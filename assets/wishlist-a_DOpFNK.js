import{d as h}from"./pinia-D55_AAlS.js";import{e as o,f as u}from"./index-ahlPdra8.js";import{l as d}from"./vue3-toastify-62PFy-vF.js";import{r as s}from"./@vue-D9mJ_Nj9.js";const g=h("wishlist",()=>{const i=s(!1),e=s(null),l=s(new Set),n=s([]);async function c(t){e.value=t;try{const a=await o.post("/wishlist",{productId:t});d(a.data.message,{theme:"colored",type:"success",dangerouslyHTMLString:!0}),l.value.add(t),await r()}catch(a){u(a)}finally{e.value=null}}async function r(){n.value.length===0&&(i.value=!0);try{const t=await o.get("/wishlist");n.value=t.data.data,l.value=new Set(t.data.data.map(a=>a._id))}catch(t){u(t)}finally{i.value=!1}}async function f(t){e.value=t;try{await o.delete(`/wishlist/${t}`),await r()}catch(a){u(a)}finally{e.value=null}}return{likedProducts:l,isLoading:i,LoadingId:e,wishList:n,postWishList:c,getWishList:r,deleteWishList:f}});export{g as u};
