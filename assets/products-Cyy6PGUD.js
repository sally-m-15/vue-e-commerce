import{d as h}from"./pinia-D55_AAlS.js";import{e as n,f as i}from"./index-wmf9UdPx.js";import{r as e,c as C}from"./@vue-D9mJ_Nj9.js";const L=h("api",()=>{const a=e(!1),u=e(""),s=e([]),l=e(null),r=e(),c=e();async function d(){a.value=!0;try{const t=await n.get("/products");s.value=t.data.data}catch(t){i(t)}finally{a.value=!1}}const f=C(()=>s.value.filter(t=>{const o=t.title.toLowerCase().includes(u.value.toLowerCase()),y=c.value?t.category._id===c.value:!0,g=r.value==="all"||!r.value?!0:t.category.name===r.value;return o&&g&&y}));function v(){s.value=[],l.value=null}async function p(t){a.value=!0;try{const o=await n.get(`/products/${t}`);l.value=o.data.data}catch(o){i(o)}finally{a.value=!1}}function m(){c.value="",r.value="all"}return{products:s,searchTerm:u,filteredProducts:f,product:l,isLoading:a,selectedSupCategory:r,selectedMainCategoryId:c,clearProducts:v,getProductsData:d,getProductsDetails:p,resetFilters:m}});export{L as a};
