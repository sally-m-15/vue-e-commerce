import{d as w,u as f,a as x,o as _,r as y,c as r,b as o,e as n,f as l,w as u,F as k,g as v,h as t,i as c,t as p,j as C,n as F,k as D,l as S}from"./index-QtkBGdPF.js";import{F as V,E as N,a as B}from"./vee-validate-CMH9PxLn.js";import{l as E}from"./useAuthSchema-B8L-3lRu.js";import{_ as H}from"./LoadingSpinner.vue_vue_type_script_setup_true_lang-C1M-Zf1b.js";import"./index.esm-npaVDFqd.js";import"./_commonjsHelpers-CqkleIqs.js";const L={class:"min-h-screen relative"},P={class:"container mx-auto py-20 w-full p-4"},U=["for"],M={key:0,class:"bg-red-200 border border-red-800 text-red-600 p-4 mt-2 rounded-lg block whitespace-pre-line"},$=["onClick"],j={class:"flex"},O=w({__name:"Login",setup(z){const{authData:m}=x(),d=f(),g=m.filter(a=>a.name==="email"||a.name==="password");async function h(a){const s=localStorage.getItem("password");await D(a.password)===s&&(await d.loginUserValue(a),S.push({name:"home"}))}return _(()=>{d.status=""}),(a,s)=>{const i=y("router-link");return o(),r("div",L,[n(H),l("div",P,[s[1]||(s[1]=l("h2",{class:"dark:text-white my-8 text-3xl text-gray-950"},"login now",-1)),n(t(B),{onSubmit:h,"validation-schema":t(E)},{default:u(({meta:b})=>[(o(!0),r(k,null,v(t(g),e=>(o(),r("div",{class:"mb-5 relative",key:e.id},[l("label",{for:e.id,class:"text-lg font-light text-gray-900 dark:text-white"},p(e.name)+" :",9,U),n(t(V),{name:e.name,autocomplete:e.autocomplete,type:e.type==="password"?e.show?"text":"password":e.type,id:e.id,class:"w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,8,["name","autocomplete","type","id"]),n(t(N),{name:e.name,class:"bg-red-200 border border-red-800 text-red-600 p-4 mt-2 rounded-lg block whitespace-pre-line"},null,8,["name"]),e.name==="email"&&t(d).status?(o(),r("p",M,p(t(d).status),1)):c("",!0),e.type==="password"?(o(),r("i",{key:1,onClick:A=>e.show=!e.show,class:"fa-regular fa-eye absolute right-3 top-10 cursor-pointer"},null,8,$)):c("",!0)]))),128)),l("div",j,[n(i,{to:{name:"reset-password"},class:"dark:text-white"},{default:u(()=>[...s[0]||(s[0]=[C("Forgot your password?",-1)])]),_:1}),l("button",{type:"submit",class:F(["text-gray-500 ms-auto border p-2 px-4 text-xl rounded-xl",b.valid?"bg-green-600 hover:bg-green-800 text-white border-0":"bg-white"])}," logn now ",2)])]),_:1},8,["validation-schema"])])])}}});export{O as default};
