var a="@vercel/speed-insights",d="1.3.1",c=()=>{window.si||(window.si=function(...n){(window.siq=window.siq||[]).push(n)})};function o(){return typeof window<"u"}function u(){try{const e="production"}catch{}return"production"}function s(){return u()==="development"}function l(e){return e.scriptSrc?e.scriptSrc:s()?"https://va.vercel-scripts.com/v1/speed-insights/script.debug.js":e.dsn?"https://va.vercel-scripts.com/v1/speed-insights/script.js":e.basePath?`${e.basePath}/speed-insights/script.js`:"/_vercel/speed-insights/script.js"}function f(e={}){var n;if(!o()||e.route===null)return null;c();const i=l(e);if(document.head.querySelector(`script[src*="${i}"]`))return null;e.beforeSend&&((n=window.si)==null||n.call(window,"beforeSend",e.beforeSend));const t=document.createElement("script");return t.src=i,t.defer=!0,t.dataset.sdkn=a+(e.framework?`/${e.framework}`:""),t.dataset.sdkv=d,e.sampleRate&&(t.dataset.sampleRate=e.sampleRate.toString()),e.route&&(t.dataset.route=e.route),e.endpoint?t.dataset.endpoint=e.endpoint:e.basePath&&(t.dataset.endpoint=`${e.basePath}/speed-insights/vitals`),e.dsn&&(t.dataset.dsn=e.dsn),s()&&e.debug===!1&&(t.dataset.debug="false"),t.onerror=()=>{console.log(`[Vercel Speed Insights] Failed to load script from ${i}. Please check if any content blockers are enabled and try again.`)},document.head.appendChild(t),{setRoute:r=>{t.dataset.route=r??void 0}}}export{f as i};
