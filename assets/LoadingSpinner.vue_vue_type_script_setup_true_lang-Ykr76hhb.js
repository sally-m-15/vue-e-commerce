import{e as u,f as d,u as y,a as g}from"./index-FUZv7Tde.js";import{d as p}from"./pinia-fFjxw1xj.js";import{r as l,c as v,d as h,w as m,H as w,T as L,I as _,R as S,v as C}from"./@vue-gREzKE0s.js";import{l as P}from"./vue3-toastify-DNfa5qGy.js";import{v as k}from"./vue3-spinners-CNlpzWdy.js";const W=p("api",()=>{const t=l(!1),o=l(""),s=l([]),r=l(null);async function n(){t.value=!0;try{const i=await u.get("/products");s.value=i.data.data}catch(i){d(i)}finally{t.value=!1}}const c=v(()=>s.value.filter(i=>i.title.toLowerCase().includes(o.value.toLowerCase())));function e(){s.value=[],r.value=null}async function a(i){t.value=!0;try{const f=await u.get(`/products/${i}`);r.value=f.data.data}catch(f){d(f)}finally{t.value=!1}}return{products:s,searchTerm:o,filteredProducts:c,product:r,isLoading:t,clearProducts:e,getProductsData:n,getProductsDetails:a}}),b=p("wishlist",()=>{const t=l(!1),o=l(new Set),s=l([]);async function r(e){t.value=!0;try{const a=await u.post("/wishlist",{productId:e});P(a.data.message,{theme:"colored",type:"success",dangerouslyHTMLString:!0}),o.value.add(e),await n()}catch(a){d(a)}finally{t.value=!1}}async function n(){t.value=!0;try{const e=await u.get("/wishlist");s.value=e.data.data,o.value=new Set(e.data.data.map(a=>a._id))}catch(e){d(e)}finally{t.value=!1}}async function c(e){t.value=!0;try{await u.delete(`/wishlist/${e}`),await n()}catch(a){d(a)}finally{t.value=!1}}return{likedProducts:o,isLoading:t,wishList:s,postWishList:r,getWishList:n,deleteWishList:c}}),x={key:0,class:"z-50 flex fixed pt-28 justify-center inset-0 bg-gray-400 items-center dark:bg-gray-800 opacity-60"},E=h({__name:"LoadingSpinner",setup(t){const o=y(),s=W(),r=g(),n=b(),c=v(()=>s.isLoading||o.isLoading||r.isLoading||n.isLoading);return m(c,e=>{e?document.body.style.overflow="hidden":document.body.style.overflow="auto"}),(e,a)=>c.value?(_(),w("div",x,[S(C(k),{loading:!0,color:"#4D5156",size:60})])):L("",!0)}});export{E as _,W as a,b as u};
