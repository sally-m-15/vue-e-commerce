import{u as _,c as k,h as v}from"./index-B8E1Qmr6.js";import{F as C,E as L,a as S}from"./vee-validate-DyBsQdWe.js";import{l as V}from"./useAuthSchema-DX5Hzcks.js";import{u as D}from"./vue-router-CJ3x6OS1.js";import{d as F,c as B,o as H,S as u,H as n,I as r,L as i,R as l,U as c,J as N,K as T,T as m,Y as U,X as g,v as o,W as E,V as P}from"./@vue-CDd_W0EE.js";import"./pinia-D8lMMsAB.js";import"./axios-B9ygI19o.js";import"./vue3-toastify-Cnzaq7rX.js";import"./oh-vue-icons-5GCpCTe6.js";import"./vue3-carousel-itNvT18x.js";import"./@vercel-DNQiN_gI.js";import"./yup-Cd09XHOC.js";import"./property-expr-DwgEMw67.js";import"./tiny-case-Gl8mQWqo.js";import"./toposort-Dr983J65.js";import"./colornames-BQ62I0KG.js";const R={class:"container mx-auto py-32 w-full p-4 px-14"},I=["for"],M={key:0,class:"bg-red-200 border border-red-800 text-red-600 p-4 mt-2 rounded-lg block whitespace-pre-line"},j={class:"flex flex-col sm:flex-row gap-4 sm:justify-between mt-5"},z=["disabled"],A={key:0},J={key:1},le=F({__name:"Login",setup(K){const{authData:b}=k(),t=_(),d=D(),h=B(()=>b.filter(s=>s.name==="email"||s.name==="password"));async function w(s){const a=localStorage.getItem("password");await v(s.password)===a&&(await t.loginUserValue(s),d.push({name:"home"}))}function x(){d.push({name:"sign-up"})}return H(()=>{t.status=""}),(s,a)=>{const p=u("v-icon"),f=u("router-link");return r(),n("div",R,[a[1]||(a[1]=i("h2",{class:"dark:text-white my-8 text-3xl text-gray-950"},"login now",-1)),l(o(S),{onSubmit:w,"validation-schema":o(V)},{default:c(({meta:y})=>[(r(!0),n(N,null,T(h.value,e=>(r(),n("div",{class:"mb-5 relative",key:e.id},[i("label",{for:e.id,class:"text-lg cursor-pointer font-light text-gray-900 dark:text-white"},g(e.name)+" :",9,I),l(o(C),{name:e.name,autocomplete:e.autocomplete,type:e.type==="password"?e.show?"text":"password":e.type,id:e.id,class:"w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-green-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-green-500 dark:focus:border-blue-500"},null,8,["name","autocomplete","type","id"]),l(o(L),{name:e.name,class:"bg-red-200 border border-red-800 text-red-600 p-4 mt-2 rounded-lg block whitespace-pre-line"},null,8,["name"]),e.name==="email"&&o(t).status?(r(),n("p",M,g(o(t).status),1)):m("",!0),e.type==="password"?(r(),U(p,{key:1,name:"fa-regular-eye",onClick:W=>e.show=!e.show,class:"absolute right-3 top-10 cursor-pointer",role:"button","aria-label":"Toggle password visibility"},null,8,["onClick"])):m("",!0)]))),128)),l(f,{to:{name:"reset-password"},class:"dark:text-white"},{default:c(()=>[...a[0]||(a[0]=[E("Forgot your password?",-1)])]),_:1}),i("div",j,[i("button",{disabled:o(t).isLoading,type:"submit",class:P(["text-gray-500 order-2 border p-2 px-4 text-xl rounded-xl",[y.valid?"bg-green-600 hover:bg-green-800 text-white border-0":"bg-white",o(t).isLoading?"cursor-wait":"cursor-pointer"]])},[o(t).isLoading?(r(),n("span",A,"Logging...")):(r(),n("span",J,"login now"))],10,z),i("button",{onClick:x,class:"text-gray-500 order-1 border p-2 px-4 text-xl rounded-xl cursor-pointer"}," register now ")])]),_:1},8,["validation-schema"])])}}});export{le as default};
